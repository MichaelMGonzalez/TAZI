<head>
	<title>TAZI - A blockly extention for Gadgetron</title>
	<script src="blockly_compressed.js"></script>
	<script src="blocks_compressed.js"></script>
	<script src="custom_blocks.js"></script>
	<script src="msg/js/en.js"></script>
	<script type="text/javascript">
	
		var _led1_update = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED update %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led1_update"};
	
		var _led1_blink = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED blink %1 with on %2 with off %3", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "on", "check": "Number"}, {"type": "input_value", "name": "off", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_led1_blink"};
	
		var _led1_blink = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED blink %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led1_blink"};
	
		var _led1_isBlinking = {"colour": "120", "tooltip": "", "message0": "LED isBlinking %1", "args0": [{"type": "input_dummy"}], "output": null, "helpUrl": "gadgetron.build", "id": "_led1_isBlinking"};
	
		var _led1_toggle = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED toggle %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led1_toggle"};
	
		var _led1_turnOn = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED turnOn %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led1_turnOn"};
	
		var _led1_turnOff = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED turnOff %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led1_turnOff"};
	
		var _led1_loop = {"colour": "120", "nextStatement": null, "tooltip": "", "message0": "LED loop %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led1_loop"};
	
		var _led2_update = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED update %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led2_update"};
	
		var _led2_blink = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED blink %1 with on %2 with off %3", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "on", "check": "Number"}, {"type": "input_value", "name": "off", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_led2_blink"};
	
		var _led2_blink = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED blink %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led2_blink"};
	
		var _led2_isBlinking = {"colour": "240", "tooltip": "", "message0": "LED isBlinking %1", "args0": [{"type": "input_dummy"}], "output": null, "helpUrl": "gadgetron.build", "id": "_led2_isBlinking"};
	
		var _led2_toggle = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED toggle %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led2_toggle"};
	
		var _led2_turnOn = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED turnOn %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led2_turnOn"};
	
		var _led2_turnOff = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED turnOff %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led2_turnOff"};
	
		var _led2_loop = {"colour": "240", "nextStatement": null, "tooltip": "", "message0": "LED loop %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_led2_loop"};
	
		var _motor1_forward = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor forward %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_forward"};
	
		var _motor1_forward = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor forward %1 with speed %2", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "speed", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_motor1_forward"};
	
		var _motor1_backward = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor backward %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_backward"};
	
		var _motor1_backward = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor backward %1 with speed %2", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "speed", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_motor1_backward"};
	
		var _motor1_spinLeft = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor spinLeft %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_spinLeft"};
	
		var _motor1_spinLeft = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor spinLeft %1 with speed %2", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "speed", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_motor1_spinLeft"};
	
		var _motor1_spinRight = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor spinRight %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_spinRight"};
	
		var _motor1_spinRight = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor spinRight %1 with speed %2", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "speed", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_motor1_spinRight"};
	
		var _motor1_forwardAndRight = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor forwardAndRight %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_forwardAndRight"};
	
		var _motor1_forwardAndRight = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor forwardAndRight %1 with speed %2", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "speed", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_motor1_forwardAndRight"};
	
		var _motor1_forwardAndLeft = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor forwardAndLeft %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_forwardAndLeft"};
	
		var _motor1_forwardAndLeft = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor forwardAndLeft %1 with speed %2", "previousStatement": null, "args0": [{"type": "input_dummy"}, {"type": "input_value", "name": "speed", "check": "Number"}], "helpUrl": "gadgetron.build", "id": "_motor1_forwardAndLeft"};
	
		var _motor1_stop = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor stop %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_stop"};
	
		var _motor1_brake = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor brake %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_brake"};
	
		var _motor1_isMoving = {"colour": "360", "tooltip": "", "message0": "Motor isMoving %1", "args0": [{"type": "input_dummy"}], "output": null, "helpUrl": "gadgetron.build", "id": "_motor1_isMoving"};
	
		var _motor1_swapDirections = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor swapDirections %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_swapDirections"};
	
		var _motor1_changePolarity = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor changePolarity %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_changePolarity"};
	
		var _motor1_disable = {"colour": "360", "nextStatement": null, "tooltip": "", "message0": "Motor disable %1", "previousStatement": null, "args0": [{"type": "input_dummy"}], "helpUrl": "gadgetron.build", "id": "_motor1_disable"};
	
	
		Blockly.Blocks['_led1_update'] = {
		init: function() {
			this.jsonInit(_led1_update);
		}
	};
	
		Blockly.Blocks['_led1_blink'] = {
		init: function() {
			this.jsonInit(_led1_blink);
		}
	};
	
		Blockly.Blocks['_led1_blink'] = {
		init: function() {
			this.jsonInit(_led1_blink);
		}
	};
	
		Blockly.Blocks['_led1_isBlinking'] = {
		init: function() {
			this.jsonInit(_led1_isBlinking);
		}
	};
	
		Blockly.Blocks['_led1_toggle'] = {
		init: function() {
			this.jsonInit(_led1_toggle);
		}
	};
	
		Blockly.Blocks['_led1_turnOn'] = {
		init: function() {
			this.jsonInit(_led1_turnOn);
		}
	};
	
		Blockly.Blocks['_led1_turnOff'] = {
		init: function() {
			this.jsonInit(_led1_turnOff);
		}
	};
	
		Blockly.Blocks['_led1_loop'] = {
		init: function() {
			this.jsonInit(_led1_loop);
		}
	};
	
		Blockly.Blocks['_led2_update'] = {
		init: function() {
			this.jsonInit(_led2_update);
		}
	};
	
		Blockly.Blocks['_led2_blink'] = {
		init: function() {
			this.jsonInit(_led2_blink);
		}
	};
	
		Blockly.Blocks['_led2_blink'] = {
		init: function() {
			this.jsonInit(_led2_blink);
		}
	};
	
		Blockly.Blocks['_led2_isBlinking'] = {
		init: function() {
			this.jsonInit(_led2_isBlinking);
		}
	};
	
		Blockly.Blocks['_led2_toggle'] = {
		init: function() {
			this.jsonInit(_led2_toggle);
		}
	};
	
		Blockly.Blocks['_led2_turnOn'] = {
		init: function() {
			this.jsonInit(_led2_turnOn);
		}
	};
	
		Blockly.Blocks['_led2_turnOff'] = {
		init: function() {
			this.jsonInit(_led2_turnOff);
		}
	};
	
		Blockly.Blocks['_led2_loop'] = {
		init: function() {
			this.jsonInit(_led2_loop);
		}
	};
	
		Blockly.Blocks['_motor1_forward'] = {
		init: function() {
			this.jsonInit(_motor1_forward);
		}
	};
	
		Blockly.Blocks['_motor1_forward'] = {
		init: function() {
			this.jsonInit(_motor1_forward);
		}
	};
	
		Blockly.Blocks['_motor1_backward'] = {
		init: function() {
			this.jsonInit(_motor1_backward);
		}
	};
	
		Blockly.Blocks['_motor1_backward'] = {
		init: function() {
			this.jsonInit(_motor1_backward);
		}
	};
	
		Blockly.Blocks['_motor1_spinLeft'] = {
		init: function() {
			this.jsonInit(_motor1_spinLeft);
		}
	};
	
		Blockly.Blocks['_motor1_spinLeft'] = {
		init: function() {
			this.jsonInit(_motor1_spinLeft);
		}
	};
	
		Blockly.Blocks['_motor1_spinRight'] = {
		init: function() {
			this.jsonInit(_motor1_spinRight);
		}
	};
	
		Blockly.Blocks['_motor1_spinRight'] = {
		init: function() {
			this.jsonInit(_motor1_spinRight);
		}
	};
	
		Blockly.Blocks['_motor1_forwardAndRight'] = {
		init: function() {
			this.jsonInit(_motor1_forwardAndRight);
		}
	};
	
		Blockly.Blocks['_motor1_forwardAndRight'] = {
		init: function() {
			this.jsonInit(_motor1_forwardAndRight);
		}
	};
	
		Blockly.Blocks['_motor1_forwardAndLeft'] = {
		init: function() {
			this.jsonInit(_motor1_forwardAndLeft);
		}
	};
	
		Blockly.Blocks['_motor1_forwardAndLeft'] = {
		init: function() {
			this.jsonInit(_motor1_forwardAndLeft);
		}
	};
	
		Blockly.Blocks['_motor1_stop'] = {
		init: function() {
			this.jsonInit(_motor1_stop);
		}
	};
	
		Blockly.Blocks['_motor1_brake'] = {
		init: function() {
			this.jsonInit(_motor1_brake);
		}
	};
	
		Blockly.Blocks['_motor1_isMoving'] = {
		init: function() {
			this.jsonInit(_motor1_isMoving);
		}
	};
	
		Blockly.Blocks['_motor1_swapDirections'] = {
		init: function() {
			this.jsonInit(_motor1_swapDirections);
		}
	};
	
		Blockly.Blocks['_motor1_changePolarity'] = {
		init: function() {
			this.jsonInit(_motor1_changePolarity);
		}
	};
	
		Blockly.Blocks['_motor1_disable'] = {
		init: function() {
			this.jsonInit(_motor1_disable);
		}
	};
	
	</script>
	
	<style>
	.outer {
		background-color: #009933;
		padding: 5px;
	}
	h1 {color:blue;}
	</style>
	
</head>
<body>
        <script>
	    window.onload = function() { 
		var xmlString = "<xml><block type=\"variable_declarations\" x=\"88\" y=\"72\"></block><block type=\"main_loop\" x=\"333\" y=\"69\"></block></xml>";
		var workspace = Blockly.getMainWorkspace();
		var xml = Blockly.Xml.textToDom(xmlString);     
		console.log(workspace);
		console.log(xml);       	
		Blockly.Xml.domToWorkspace( workspace, xml);
	    } ;
	</script>
	<div width="100%" height="100%">
	
	<div class = "outer", style="width:20%; height:10%; float:left;">
		<img src="GtronImage.png" alt="Gtron Logo" style="width:150px;height:50px;">		
	</div>
	
	<div class = "outer", style = "margin-left:20%; width: 70%; height: 10%">
		<h1> TAZI </h1>
	</div>
	
	<div id="blocklyDiv" style="height: 80%; width: 90%;"></div>
		<xml id="toolbox" style="display: none"><category custom="VARIABLE" name="Variables"> </category>
   <category custom="PROCEDURE" name="Functions"> </category>

  
  <category colour="210" id="arduino" name="Time Control">
      <block type="delay"> </block>
      <block type="millis"> </block>
  </category>
   <category colour="210" id="catLogic" name="Logic">
      <block type="controls_if"> </block>
      <block type="logic_compare"> </block>
      <block type="logic_operation"> </block>
      <block type="logic_negate"> </block>
      <block type="logic_boolean"> </block>
      <block type="logic_null"> </block>
    </category>

    <category colour="120" id="catLoops" name="Loops">
      <block type="controls_repeat_ext"> <value name="TIMES">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="controls_whileUntil"> </block>
      <block type="controls_for">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
        <value name="BY">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      
      <block type="controls_flow_statements"> </block>
    </category>

    <category colour="230" id="catMath" name="Math">
      <block type="math_number"> </block>
      <block type="math_arithmetic">
        <value name="A">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="B">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_single">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">9</field>
          </shadow>
        </value>
      </block>
      
      <block type="math_constant"> </block>
      <block type="math_number_property">
        <value name="NUMBER_TO_CHECK">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
      </block>
      <block type="math_change">
        <value name="DELTA">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_round">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">3.1</field>
          </shadow>
        </value>
      </block>
      
      <block type="math_modulo">
        <value name="DIVIDEND">
          <shadow type="math_number">
            <field name="NUM">64</field>
          </shadow>
        </value>
        <value name="DIVISOR">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      
      <block type="math_random_int">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_float"> </block>
    </category>

    <category colour="160" id="catText" name="Text">
      <block type="text" />
      <block type="text_join" />
      <block type="text_append">
        <value name="TEXT">
          <shadow type="text" />
        </value>
      </block>
      <block type="text_length">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_isEmpty">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT" />
          </shadow>
        </value>
      </block>
      <block type="text_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
        <value name="FIND">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_charAt">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
      </block>
      <block type="text_getSubstring">
        <value name="STRING">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
      </block>
      <block type="text_changeCase">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_trim">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_print">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_prompt_ext">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
    </category>

  
  <sep> </sep>
<category colour="120" name="LED 1"><block type="_led1_update"> </block><block type="_led1_blink"> </block><block type="_led1_blink"> </block><block type="_led1_isBlinking"> </block><block type="_led1_toggle"> </block><block type="_led1_turnOn"> </block><block type="_led1_turnOff"> </block><block type="_led1_loop"> </block></category><category colour="240" name="LED 2"><block type="_led2_update"> </block><block type="_led2_blink"> </block><block type="_led2_blink"> </block><block type="_led2_isBlinking"> </block><block type="_led2_toggle"> </block><block type="_led2_turnOn"> </block><block type="_led2_turnOff"> </block><block type="_led2_loop"> </block></category><category colour="360" name="Motor 1"><block type="_motor1_forward"> </block><block type="_motor1_forward"> </block><block type="_motor1_backward"> </block><block type="_motor1_backward"> </block><block type="_motor1_spinLeft"> </block><block type="_motor1_spinLeft"> </block><block type="_motor1_spinRight"> </block><block type="_motor1_spinRight"> </block><block type="_motor1_forwardAndRight"> </block><block type="_motor1_forwardAndRight"> </block><block type="_motor1_forwardAndLeft"> </block><block type="_motor1_forwardAndLeft"> </block><block type="_motor1_stop"> </block><block type="_motor1_brake"> </block><block type="_motor1_isMoving"> </block><block type="_motor1_swapDirections"> </block><block type="_motor1_changePolarity"> </block><block type="_motor1_disable"> </block></category></xml>
	</div>
	<script>
  		var workspace = Blockly.inject('blocklyDiv',
      		{toolbox: document.getElementById('toolbox')});
	</script>
	<button onclick="console.log(Blockly.Xml.workspaceToDom(Blockly.getMainWorkspace()))">Dump XML</button>
</body>
